(this.webpackJsonpdeckster=this.webpackJsonpdeckster||[]).push([[0],{294:function(e,t,n){e.exports=n(419)},299:function(e,t,n){},300:function(e,t,n){},330:function(e,t,n){},332:function(e,t,n){},333:function(e,t,n){},415:function(e,t,n){},416:function(e,t,n){},419:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"identity",(function(){return re})),n.d(a,"parseInteger",(function(){return oe})),n.d(a,"stringify",(function(){return le})),n.d(a,"repeat",(function(){return ie})),n.d(a,"toUpper",(function(){return ce}));var r=n(0),o=n.n(r),l=n(16),i=n.n(l),c=(n(299),n(109)),s=(n(300),n(32)),u=n(33),d=n(11),m=n(114),f=n(48),v=n(46),p=n(41),g=function(){function e(){Object(s.a)(this,e),this.currentlySelectedID="",this.items=[]}return Object(u.a)(e,[{key:"save",value:function(){return{current:Object(d.p)(this.currentlySelectedID),items:Object(d.p)(this.items)}}},{key:"load",value:function(e){var t;this.currentlySelectedID=e.current,(t=this.items).push.apply(t,Object(p.a)(e.items))}},{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(m.a)();return this.createFromGuid(t,e)}},{key:"remove",value:function(e){var t=this.items.findIndex((function(t){return t.id===e}));-1!==t&&this.items.splice(t,1)}},{key:"add",value:function(e){this.items.push(e)}},{key:"addNew",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.create(t);return this.add(n),e&&(this.currentlySelectedID=n.id),n}},{key:"find",value:function(e){return this.items.find((function(t){return t.id===e}))}},{key:"currentItem",get:function(){var e=this;return this.items.find((function(t){return t.id===e.currentlySelectedID}))}}]),e}(),h=function(e){Object(f.a)(n,e);var t=Object(v.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"createFromGuid",value:function(e,t){return{id:e,name:"New Design",code:(null===t||void 0===t?void 0:t.code)||"",styles:(null===t||void 0===t?void 0:t.styles)||""}}},{key:"label",get:function(){return"Card Designs"}},{key:"entityName",get:function(){return"designs"}}]),n}(g);Object(d.h)(h,{items:d.m,currentlySelectedID:d.m});var E=function(e){Object(f.a)(n,e);var t=Object(v.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"createFromGuid",value:function(e,t){return{id:e,name:"New Dataset",fields:["count"],fieldMappings:{},data:[{count:1},{count:2}],sheetData:{apiKey:"",range:"",source:""}}}},{key:"label",get:function(){return"Data Sets"}},{key:"entityName",get:function(){return"datasets"}}]),n}(g);Object(d.h)(E,{items:d.m,currentlySelectedID:d.m});var b=function(e){Object(f.a)(n,e);var t=Object(v.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"createFromGuid",value:function(e,t){return{id:e,name:"New Transform",steps:[]}}},{key:"label",get:function(){return"Transforms"}},{key:"entityName",get:function(){return"transforms"}}]),n}(g);Object(d.h)(b,{items:d.m,currentlySelectedID:d.m});var y=function(e){Object(f.a)(n,e);var t=Object(v.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"createFromGuid",value:function(e,t){return{id:e,name:"New Image",data:(null===t||void 0===t?void 0:t.data)||""}}},{key:"label",get:function(){return"Images"}},{key:"entityName",get:function(){return"images"}}]),n}(g);Object(d.h)(y,{items:d.m,currentlySelectedID:d.m});var w=function(e){Object(f.a)(n,e);var t=Object(v.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"createFromGuid",value:function(e,t){return{id:e,name:"New Set of Cards",fieldTransforms:[],dataSet:null,cardDesign:null,cardBackDesign:null}}},{key:"label",get:function(){return"Render Cards"}},{key:"entityName",get:function(){return"Renders"}}]),n}(g);function N(){return r.useContext(c.a)}Object(d.h)(w,{items:d.m,currentlySelectedID:d.m});var O=n(196),S=n.n(O),I=function(){function e(){Object(s.a)(this,e),this.name="My Project",this.currentSection=void 0,this.enableAutosave=!1,this.autosavePeriod=15,this.datasets=new E,this.designs=new h,this.images=new y,this.transforms=new b,this.renders=new w,this.intervalId=-1}return Object(u.a)(e,[{key:"importFile",value:function(){var t,n=this,a=document.createElement("input");a.type="file",a.onchange=(t=function(t){var a=null===t||void 0===t?void 0:t.toString();if(a){var r=JSON.parse(atob(a.substr(29))),o=e.loadFromJson(r);n.loadFromProject(o)}},function(e){var n,a;if((null===e||void 0===e||null===(n=e.target)||void 0===n||null===(a=n.files)||void 0===a?void 0:a.length)>0){var r=new FileReader;r.onload=function(){t(r.result)},r.readAsDataURL(e.target.files[0])}}),a.click()}},{key:"exportToFile",value:function(){var e=this.serialise(),t=new Blob([e],{type:"application/json;charset=utf-8"});S.a.saveAs(t,"project.json")}},{key:"toggleAutosave",value:function(){var e=!this.enableAutosave;return this.enableAutosave=e,e}},{key:"loadFromProject",value:function(e){this.name=e.name,this.currentSection=e.currentSection,this.enableAutosave=e.enableAutosave,this.autosavePeriod=e.autosavePeriod,this.datasets=e.datasets,this.designs=e.designs,this.images=e.images,this.transforms=e.transforms,this.renders=e.renders}},{key:"getStore",value:function(e){var t=this[(null===e||void 0===e?void 0:e.entityID)?e.entityID():null];return void 0!==typeof t?t:null}},{key:"serialise",value:function(){return JSON.stringify({name:Object(d.p)(this.name),currentSection:Object(d.p)(this.currentSection),enableAutosave:Object(d.p)(this.enableAutosave),autosavePeriod:Object(d.p)(this.autosavePeriod),datasets:this.datasets.save(),designs:this.designs.save(),images:this.images.save(),transforms:this.transforms.save(),renders:this.renders.save()})}},{key:"saveToLocalStorage",value:function(){var t,n=this.serialise();console.log("Saving to LocalStorage",n,this),null===(t=localStorage)||void 0===t||t.setItem(e.LOCALSTORAGE_KEY,n)}},{key:"runAutosave",value:function(){this.enableAutosave&&this.saveToLocalStorage()}},{key:"getPeriodBase",value:function(){var e=this.autosavePeriod;return("number"!==typeof e||e<15)&&(e=15),e}},{key:"updateAutosavePeriod",value:function(e){var t=Number(e);t>=15&&(this.autosavePeriod=t,this.autoSave())}},{key:"autoSave",value:function(){var e=this,t=1e3*this.getPeriodBase();-1!==this.intervalId&&clearInterval(this.intervalId),this.intervalId=window.setInterval((function(){return e.runAutosave()}),t)}},{key:"createStep",value:function(e){var t=e.params,n=e.operation;return{id:Object(m.a)(),operation:n,params:t}}}],[{key:"loadFromJson",value:function(t){var n=new e;console.log("LOADING JSON",t);try{n.name=t.name,n.currentSection=t.currentSection,n.enableAutosave=t.enableAutosave,n.autosavePeriod=t.autosavePeriod,n.datasets.load(t.datasets),n.designs.load(t.designs),n.images.load(t.images),n.transforms.load(t.transforms),n.renders.load(t.renders)}catch(a){console.error("Unable to load project from JSON",a)}return n}},{key:"loadFromLocalStorage",value:function(){var t,n=null===(t=localStorage)||void 0===t?void 0:t.getItem(e.LOCALSTORAGE_KEY);if(null!==n)try{var a=JSON.parse(n);return e.loadFromJson(a)}catch(r){console.error("Unable to load Project store from local storage")}return new e}}]),e}();I.LOCALSTORAGE_KEY="project",Object(d.h)(I,{name:d.m,currentSection:d.m,enableAutosave:d.m,autosavePeriod:d.m});var k={project:I.loadFromLocalStorage()};window.stores=k;var j,C=n(19),T=n(2),R=n(13),A=n(197),x=n(425),D=n(200),B=n(428),P=n(110),L=n.n(P),F=function(e,t){return function(n){var a=parseInt(n,10);e.fieldMappings[t]="number"==typeof a?a:-1}},G=function(e,t){return function(n){var a=e.fieldMappings[t]||-1;return r.createElement(x.a,{onChange:F(e,t)},a)}},M=function(e){var t=r.useState(null),n=Object(C.a)(t,2),a=n[0],o=n[1],l=r.useState(null),i=Object(C.a)(l,2),c=i[0],s=i[1];return Object(R.d)((function(){var t=e.dataSet,n=t.sheetData,l=t.fieldMappings,i=function(e){return function(n){t.sheetData[e]=n.target.value}};return r.createElement(T.Card,{className:"col"},r.createElement(T.H2,null,"Import Data"),r.createElement("div",{className:T.Classes.DIALOG_BODY},r.createElement(T.ButtonGroup,{vertical:!0,fill:!0},r.createElement(T.InputGroup,{placeholder:"Google Sheet ID",leftIcon:"id-number",value:n.source,onChange:i("source")}),r.createElement(T.InputGroup,{placeholder:"Google API Key",leftIcon:"key",value:n.apiKey,onChange:i("apiKey")}),r.createElement(T.InputGroup,{placeholder:"Sheet Range (eg Sheet1!A1:C40)",leftIcon:"manually-entered-data",value:n.range,onChange:i("range")}),r.createElement(T.Button,{text:"Fetch Data",icon:"download",onClick:function(){return function(e,t){var n=e.source,a=e.range,r=e.apiKey,o="https://sheets.googleapis.com/v4/spreadsheets/".concat(n,"/values/").concat(a,"?key=").concat(r);fetch(o).then((function(e){return e.json()})).then((function(e){t(e)}))}(n,o)}})),a&&r.createElement("div",null,r.createElement(L.a,{value:JSON.stringify(a,null,2)}),r.createElement(T.H3,null,"Field Mappings"),r.createElement(B.a,{numRows:1},function(e){return e.fields.map((function(t){return r.createElement(D.a,{key:t,name:t,cellRenderer:G(e,t)})}))}(t)),r.createElement(T.Button,{icon:"translate",onClick:function(){if(a){var e=a.values.map((function(e){return t.fields.reduce((function(t,n){var a=l[n];return t[n]=e[a]||"",t}),{})}));s(e)}}},"Transform Data")),c&&r.createElement("div",null,r.createElement(L.a,{value:JSON.stringify(c,null,2)}))),c&&r.createElement("div",{className:T.Classes.DIALOG_FOOTER},r.createElement("div",{className:T.Classes.DIALOG_FOOTER_ACTIONS},r.createElement(T.Button,{onClick:function(){return e.save(c)},icon:"saved",text:"Save"}))))}))},_=function(e,t){return function(n){var a=e.data[n][t];return r.createElement(x.a,{value:a})}},H=function(e){return function(e){var t=new Set;return e.data.forEach((function(e){Object.keys(e).forEach((function(e){return t.add(e)}))})),console.log("Columns: ",t),Array.from(t)}(e).map((function(t){return r.createElement(D.a,{key:t,name:t,cellRenderer:_(e,t)})}))},U=function(e){var t=N().project,n=r.useState(!1),a=Object(C.a)(n,2),o=a[0],l=a[1],i=function(){return l(!o)};return Object(R.d)((function(){var n=e.dataSet;if(!n)return null;return r.createElement("section",{className:"row editor"},r.createElement("div",{className:"f1 col"},r.createElement("div",{className:"row"},r.createElement(T.H2,null,r.createElement(T.EditableText,{onChange:function(e){n&&(n.name=e)},value:n.name})),r.createElement(T.ButtonGroup,null,r.createElement(T.Button,{icon:"delete",text:"Remove this Design",onClick:function(){return t.datasets.remove(n.id)}}),r.createElement(T.Button,{icon:"import",text:"Import Data",onClick:i}))),r.createElement("div",{className:"row"},r.createElement(T.TagInput,{large:!0,values:n.fields,addOnBlur:!0,addOnPaste:!0,onChange:function(e){return n.fields=e.map((function(e){return(null===e||void 0===e?void 0:e.toString())||""})).filter(Boolean).map((function(e){return e.replace(/[^\w]/g,"")})),!0},leftIcon:"manually-entered-data"})),r.createElement("div",{className:"row"},r.createElement(B.a,{enableColumnReordering:!0,enableColumnResizing:!1,enableRowReordering:!0,enableRowResizing:!1,numRows:n.data.length},H(n)))),r.createElement(T.Dialog,{isOpen:o,icon:"import",title:"Import From Google Sheets",className:"dialog--wide",onClose:i},r.createElement(M,{closeFn:i,save:function(e){e&&(n.data=e),i()},dataSet:n})))}))},Y=n(429),J=function(e,t){var n=t.handleClick,a=t.modifiers;t.query;return a.matchesPredicate?r.createElement(T.MenuItem,{active:a.active,disabled:a.disabled,label:e.name,key:e.id,onClick:n,text:e.name}):null},W=function(e,t){var n=Y.a.ofType(),a=e.currentItem,o=a?a.name:"Nothing Selected",l=(null===t||void 0===t?void 0:t.onItemSelect)||function(t){return e.currentlySelectedID=t.id},i=(null===t||void 0===t?void 0:t.itemRenderer)||J,c=(null===t||void 0===t?void 0:t.getActiveItem)&&t.getActiveItem()||a;return r.createElement(n,{className:null===t||void 0===t?void 0:t.className,items:e.items,itemRenderer:i,noResults:r.createElement(T.MenuItem,{disabled:!0,text:"None Added"}),onItemSelect:l,activeItem:c},r.createElement(T.Button,{text:o,rightIcon:"double-caret-vertical"}))},z=function(){var e=N().project,t=function(){e.datasets.addNew(!0)};return Object(R.d)((function(){var n=e.datasets.currentItem;return r.createElement("section",{className:"app-section card-designs"},r.createElement(T.H1,null,"Data Sets"),r.createElement("div",{className:"col"},r.createElement("div",{className:"row"},r.createElement(T.ControlGroup,{fill:!0},W(e.datasets),r.createElement(T.Button,{icon:"add",text:"Add New Data Set",onClick:t}))),r.createElement(U,{dataSet:n})))}))},K=n(129),q=n.n(K),V=(n(181),n(329),n(182),function(e){var t=N().project,n=r.useState(null),a=Object(C.a)(n,2),o=a[0],l=a[1],i=r.useState(null),c=Object(C.a)(i,2),s=c[0],u=c[1];return Object(R.d)((function(){var n=e.design;if(!n)return null;var a=n.code,i=n.styles,c=function(e){if(e){var t=Array.from(e.querySelectorAll("[data-fieldid]")).map((function(e){return e.getAttribute("data-fieldid")||""})).filter(Boolean);u(t)}};return r.createElement("section",{className:"row editor"},r.createElement("div",{className:"f1 col"},r.createElement("div",{className:"row"},r.createElement(T.H2,null,r.createElement(T.EditableText,{onChange:function(e){n&&(n.name=e)},value:n.name})),r.createElement(T.Button,{icon:"delete",text:"Remove this Design",onClick:function(){t.designs.remove(n.id)}})),r.createElement("div",{className:"col full-y f1"},r.createElement("div",{className:"col f1"},r.createElement(T.H3,null,"Style"),r.createElement(q.a,{mode:"css",theme:"monokai",onChange:function(e){n.styles=e},name:"DesignEditorStyles".concat(n.id),editorProps:{$blockScrolling:!0},value:i})),r.createElement("div",{className:"col f1"},r.createElement(T.H3,null,"HTML"),r.createElement(q.a,{mode:"html",theme:"monokai",onChange:function(e){n.code=e,c(o)},name:"DesignEditorHtml".concat(n.id),editorProps:{$blockScrolling:!0},value:a}))),s&&s.length>0&&r.createElement("div",{className:"row"},"Identified Fields:",r.createElement("div",{className:"row"},null===s||void 0===s?void 0:s.map((function(e){return r.createElement(T.Tag,null,e)}))))),r.createElement("div",{className:"f1"},r.createElement("div",{className:"full-xy"},r.createElement("style",{dangerouslySetInnerHTML:{__html:n.styles}}),r.createElement("div",{className:"playing-card",dangerouslySetInnerHTML:{__html:n.code},ref:function(e){l(e)}}))))}))}),$=(n(330),function(e,t){return r.createElement(T.Menu,null,r.createElement(T.MenuItem,{text:"From File",onClick:function(){t&&t.click()}}),r.createElement(T.MenuItem,{text:"From Text",onClick:function(){e.addNew(!0)}}))}),X=function(){var e=N(),t=r.useState(),n=Object(C.a)(t,2),a=n[0],o=n[1],l=e.project;return Object(R.d)((function(){var e=l.designs.currentItem;return r.createElement("section",{className:"app-section card-designs"},r.createElement(T.H1,null,"Card Designs"),r.createElement("div",{className:"col"},r.createElement("div",{className:"row"},r.createElement(T.ControlGroup,{fill:!0},W(l.designs),r.createElement("input",{type:"file",accept:".svg",ref:function(e){return o(e)},onChange:function(e){var t,n;if((null===e||void 0===e||null===(t=e.target)||void 0===t||null===(n=t.files)||void 0===n?void 0:n.length)>0){var a=new FileReader;a.onload=function(){var e=a.result,t=null===e||void 0===e?void 0:e.toString();t&&l.designs.addNew(!0,{code:t})},a.readAsText(e.target.files[0])}},className:"hidden"}),r.createElement(T.Popover,{content:$(l.designs,a),position:T.Position.RIGHT_TOP},r.createElement(T.Button,{icon:"add",text:"Add New Design"})))),r.createElement(V,{design:e})))}))},Z=function(e){var t=N().project;return Object(R.d)((function(){var n=e.image;if(!n)return null;var a=n.data,o=n.name;return r.createElement("section",{className:"row editor"},r.createElement("div",{className:"f1 col"},r.createElement("div",{className:"row"},r.createElement(T.H2,null,r.createElement(T.EditableText,{onChange:function(e){n&&(n.name=e)},value:o})),r.createElement(T.Button,{icon:"delete",text:"Remove this Image",onClick:function(){t.images.remove(n.id)}}))),r.createElement("div",{className:"f1"},r.createElement("div",{className:"full-xy"},r.createElement("div",{className:"image-preview"},r.createElement("img",{src:a,alt:"".concat(o)})))))}))},Q=function(){var e=r.useState(),t=Object(C.a)(e,2),n=t[0],a=t[1],o=N().project;return Object(R.d)((function(){var e=o.images;return r.createElement("section",{className:"app-section card-designs"},r.createElement(T.H1,null,e.label),r.createElement("div",{className:"col"},r.createElement("div",{className:"row"},r.createElement(T.ControlGroup,{fill:!0},W(e),r.createElement("input",{type:"file",accept:".jpg, .png",ref:function(e){return a(e)},onChange:function(t){var n,a;if((null===t||void 0===t||null===(n=t.target)||void 0===n||null===(a=n.files)||void 0===a?void 0:a.length)>0){var r=new FileReader;r.onload=function(){var t=r.result,n=null===t||void 0===t?void 0:t.toString();n&&e.addNew(!0,{data:n})},r.readAsDataURL(t.target.files[0])}},className:"hidden"}),r.createElement(T.Button,{icon:"add",text:"Add New Image",onClick:function(){n&&n.click()}}))),r.createElement(Z,{image:e.currentItem})))}))},ee=Y.a.ofType(),te=function(e,t){var n=t.handleClick,a=t.modifiers;t.query;return a.matchesPredicate?r.createElement(T.MenuItem,{active:a.active,disabled:a.disabled,label:e.name,key:e.id,onClick:n,text:e.name}):null},ne=function(e,t){var n=t.handleClick,a=t.modifiers;t.query;return a.matchesPredicate?r.createElement(T.MenuItem,{active:a.active,disabled:a.disabled,label:e.description||"",key:e.name,onClick:n,text:e.name}):null},ae=function(e){return Object(R.d)((function(){var t=e.step;return r.createElement(T.Card,null,r.createElement(T.H3,null,t.operation?t.operation.name:"No Operation Defined"),t.operation&&t.operation.paramNames.map((function(e,n){return r.createElement("div",{className:"tx-step-param"},r.createElement("span",null,e),": ",r.createElement("span",null,t.params[n]||""))})))}))};!function(e){e[e.STRING=0]="STRING",e[e.NUMBER=1]="NUMBER"}(j||(j={}));var re={name:"Identity",description:"Returns the same value it is given",input:j.STRING,output:j.STRING,paramNames:[],pipe:function(e){return e}},oe={name:"Parse Integer",description:"Convert a String into a Number",input:j.STRING,output:j.NUMBER,paramNames:[],pipe:function(e){return"number"==typeof e?e:parseInt(e,10)}},le={name:"Stringify",description:"Convert a Number into a String",input:j.NUMBER,output:j.STRING,paramNames:[],pipe:function(e){return e.toString()}},ie={name:"Repeat String",description:"Repeats the String in the Text param N number of times",input:j.NUMBER,output:j.STRING,paramNames:["text"],pipe:function(e,t){return new Array(e).map((function(){return t[0]})).join("")}},ce={name:"To Uppercase",description:"Converts a string to uppercase",input:j.STRING,output:j.STRING,paramNames:[],pipe:function(e){return e.toString().toUpperCase()}},se=Object.values(a),ue=function(e){var t=e.save,n=e.isOpen,a=e.toggleIsOpen,o=r.useState(),l=Object(C.a)(o,2),i=l[0],c=l[1],s=r.useState([]),u=Object(C.a)(s,2),d=u[0],m=u[1],f=N().project,v=function(e){return function(t){var n=t.target.value,a=Object(p.a)(d);a[e]=n,m(a)}};return Object(R.d)((function(){var e=i?i.name:"No Operation Selected",o=!(null===i||void 0===i?void 0:i.paramNames.map((function(e,t){return t})).some((function(e){return!d[e]}))),l=Boolean(i)&&o;return r.createElement(T.Dialog,{isOpen:n,icon:"add-to-artifact",title:"Create New Step",className:"dialog--wide",onClose:a},r.createElement("div",{className:"col"},r.createElement("div",{className:T.Classes.DIALOG_BODY},r.createElement(T.H2,null,"Create Step"),r.createElement(T.Card,{elevation:1},r.createElement(T.ControlGroup,{fill:!0},r.createElement(ee,{items:Object.values(se),itemRenderer:ne,noResults:r.createElement(T.MenuItem,{disabled:!0,text:"No Operations Defined"}),onItemSelect:c},r.createElement(T.Button,{text:e,rightIcon:"double-caret-vertical"})))),r.createElement(T.Card,{elevation:1},!i&&"Select an Operation to define Parameters",i&&i.paramNames.map((function(e,t){return r.createElement(T.InputGroup,{placeholder:e,onChange:v(t),value:d[t],key:e})})))),r.createElement("div",{className:T.Classes.DIALOG_FOOTER},r.createElement("div",{className:T.Classes.DIALOG_FOOTER_ACTIONS},r.createElement(T.Button,{onClick:function(){if(null!=i){var e=f.createStep({params:d,operation:i});t(e),a()}},icon:"saved",text:"Save",disabled:!l})))))}))},de=function(e){var t=N().project,n=r.useState(!1),a=Object(C.a)(n,2),o=a[0],l=a[1],i=function(){return l(!o)};return Object(R.d)((function(){var n=e.transform;if(!n)return null;return r.createElement("section",{className:"row editor"},r.createElement("div",{className:"f1 col"},r.createElement("div",{className:"row"},r.createElement(T.H2,null,r.createElement(T.EditableText,{onChange:function(e){n&&(n.name=e)},value:n.name})),r.createElement(T.Button,{icon:"delete",text:"Remove this Transform",onClick:function(){t.transforms.remove(n.id)}}),r.createElement(T.Button,{icon:"add-to-artifact",text:"Add New Step",onClick:i})),r.createElement("div",{className:"row"},0===n.steps.length&&r.createElement(T.Callout,{title:"No Steps Defined",intent:T.Intent.WARNING,icon:"step-chart"}),n.steps.map((function(e){return r.createElement(ae,{step:e,key:e.id})})))),r.createElement(ue,{isOpen:o,save:function(e){n&&e&&n.steps.push(e)},toggleIsOpen:function(){return l(!1)}}))}))},me=function(){var e=N().project,t=function(){e.transforms.addNew(!0)};return Object(R.d)((function(){var n=e.transforms.currentItem;return r.createElement("section",{className:"app-section transforms"},r.createElement(T.H1,null,"Transforms"),r.createElement("div",{className:"col"},r.createElement("div",{className:"row"},r.createElement(T.ControlGroup,{fill:!0},W(e.transforms,{itemRenderer:te}),r.createElement(T.Button,{icon:"add",text:"Add New Transform",onClick:t}))),r.createElement(de,{transform:n})))}))},fe=n(30),ve=n.n(fe),pe=n(77),ge=n(115),he=/!\[(\w*)(?:\|(.*))?\]/g,Ee="\n*, *:before, *:after {  \n  box-sizing: border-box;\n}\n\n.playing-card {\n  height: 89mm;\n  width: 64mm;\n  font-size: 10mm;\n}\n\nforeignObject .playing-card {\n  height: 100%;\n  width: 100%;\n}",be="NONE",ye="FIRST",we="COLLATE",Ne="AFTER",Oe=[Ne,we],Se=function(e,t){return'<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="320px" height="445px">\n      <foreignObject x="0" y="0" width="320px" height="445px">\n        <div xmlns="http://www.w3.org/1999/xhtml" style="width: 100%; height: 100%;">\n         <style>'.concat(Ee,"</style>\n          <style>").concat(t,"</style>\n          ").concat(e,"\n        </div>\n      </foreignObject>\n    </svg>")},Ie=function(e,t,n){var a=document.createElement("div");a.classList.add("playing-card"),a.innerHTML=e||"",a.querySelectorAll("[data-fieldid]").forEach((function(e){var n=e.getAttribute("data-fieldid");if(null!=n){var a=t[n];e.innerHTML=a}}));for(var r=a.outerHTML,o=null,l=function(){var e=o,t=Object(C.a)(e,3),a=t[0],l=t[1],i=t[2],c=n.items.find((function(e){return e.name===l}));if(c){var s='<img src="'.concat(null===c||void 0===c?void 0:c.data,'" class="').concat(i||"",'"/>');r=r.replace(a,s)}};null!==(o=he.exec(r));)l();return r},ke=function(e,t){return e.map((function(e){return{html:e,css:t}}))},je=function(e,t,n,r){var o=r.find(n),l=e[t];if("undefined"===typeof l)return"";o&&(o.steps.forEach((function(e){var t=function(e){return Object.values(a).find((function(t){return t.name===e.operation.name}))}(e);t&&(l=t.pipe(l,e.params))})),e[t]=l)},Ce=function(e,t,n,a,r,o){var l=o.images,i=o.transforms,c=((null===n||void 0===n?void 0:n.data)||[]||[]).map((function(e){var t=Object(ge.a)({},e);return a.forEach((function(e){var n=e.field,a=e.transform;je(t,n,a,i)})),t})),s=(null===e||void 0===e?void 0:e.code)||"",u=(null===t||void 0===t?void 0:t.code)||"",d=c.map((function(e){return Ie(s,e,l)})),m=[];Oe.includes(r)?m=c.map((function(e){return Ie(u,e,l)})):r===ye&&(m=[Ie(u,c[0],l)]);var f=ke(d,(null===e||void 0===e?void 0:e.styles)||""),v=ke(m,(null===t||void 0===t?void 0:t.styles)||"");return Te(r,f,v)},Te=function(e,t,n){switch(e){case be:return t;case ye:return[].concat(Object(p.a)(t),[n[0]]);case Ne:return[].concat(Object(p.a)(t),Object(p.a)(n));case we:return t.flatMap((function(e,t){return[e,n[t]]}));default:return[]}},Re=function(e){return new Blob([e],{type:"image/svg+xml;charset=utf-8"})},Ae=function(e){var t=document.createElement("canvas");return t.height=445,t.width=320,t.style.width=t.width+"px",t.style.height=t.height+"px",t.width*=e,t.height*=e,t},xe=function(e,t){return new Promise((function(n){var a=Ae(t),r=a.getContext("2d"),o=new FileReader;o.onload=function(e){var o=new Image,l=e.target.result;o.onload=function(){null===r||void 0===r||r.drawImage(o,0,0,320,445,0,0,320*t,445*t),n(a)},o.src=l},o.readAsDataURL(e)}))},De=function(e,t){return new Promise((function(n){var a=Ae(t),r=a.getContext("2d"),o=new FileReader;o.onload=function(e){var o=new Image,l=e.target.result;o.onload=function(){null===r||void 0===r||r.drawImage(o,0,0,320,445,0,0,320*t,445*t),a.toBlob(n,"image/png",1)},o.src=l},o.readAsDataURL(e)}))},Be=n(206),Pe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"card.png",n=new MouseEvent("click",{view:window,bubbles:!1,cancelable:!0}),a=document.createElement("a");a.setAttribute("download",t),a.setAttribute("href",e),a.setAttribute("target","_blank"),a.dispatchEvent(n)},Le=function(){var e=Object(pe.a)(ve.a.mark((function e(t,n){var a,r,o,l,i;return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.map((function(e){return Se(e.html,e.css)})).map((function(e){return Re(e)})).map((function(e){return De(e,n)})),e.next=3,Promise.all(a);case 3:return r=e.sent,o=r.map((function(e,t){return null!=e?{name:"card".concat(t,".png"),input:e}:null})).filter((function(e){return null!==e})),e.next=7,Object(Be.a)(Object(p.a)(o)).blob();case 7:l=e.sent,i=URL.createObjectURL(l),Pe(i,"deck.zip"),URL.revokeObjectURL(i);case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Fe=(n(332),function(e,t,n){var a=t+n,r=e.fieldTransforms[t];e.fieldTransforms.splice(t,1),e.fieldTransforms.splice(a,0,r)}),Ge=function(e){var t=e.deck,n=e.save,a=N().project,o=r.useState(t.fieldTransforms),l=Object(C.a)(o,2),i=l[0],c=l[1],s=function(e,t,n){var a=i.map((function(e){return Object(ge.a)({},e)}));a[e][t]=n,c(a)};return Object(R.d)((function(){var e,o=Object(p.a)((null===(e=a.datasets.find(t.dataSet||void 0))||void 0===e?void 0:e.fields)||[]);return r.createElement("div",{className:"col"},r.createElement("div",{className:T.Classes.DIALOG_BODY},0===i.length&&"No Transforms Defined",i.map((function(e,n){var l=e.field||null,c=a.transforms.find(e.transform),u="".concat(n,"-").concat(c||"","-").concat(e.field);return r.createElement("div",{className:"row",key:u},r.createElement("div",{className:"row f2 space-between"},r.createElement(_e,{items:o,itemRenderer:He,noResults:r.createElement(T.MenuItem,{disabled:!0,text:"No Fields Added"}),onItemSelect:function(e){return s(n,"field",e)},activeItem:l},r.createElement(T.Button,{text:l,rightIcon:"double-caret-vertical"})),r.createElement(T.Icon,{icon:"flows",iconSize:20}),W(a.transforms,{onItemSelect:function(e){return s(n,"transform",e.id)},getActiveItem:function(){return a.transforms.find(i[n].transform)}})),r.createElement("div",{className:"row f1"},r.createElement(T.Button,{icon:"delete",onClick:function(){return function(e,t){e.fieldTransforms.splice(t,1)}(t,n)}}),r.createElement(T.Button,{icon:"arrow-down",onClick:function(){return Fe(t,n,1)}}),r.createElement(T.Button,{icon:"arrow-up",onClick:function(){return Fe(t,n,-1)}})))})).filter(Boolean)),r.createElement("div",{className:T.Classes.DIALOG_FOOTER},r.createElement("div",{className:T.Classes.DIALOG_FOOTER_ACTIONS},r.createElement(T.Button,{icon:"add-row-bottom",onClick:function(){return function(e){e.fieldTransforms.push({field:"",transform:""})}(t)}},"Add a Transform"),r.createElement(T.Button,{icon:"add-row-bottom",onClick:function(){return n(i)}},"Save Changes"))))}))},Me=function(e){var t=e.deck,n=r.useState(!1),a=Object(C.a)(n,2),o=a[0],l=a[1],i=function(){return l(!0)},c=function(){return l(!1)};return Object(R.d)((function(){var e=t.fieldTransforms;return r.createElement(r.Fragment,null,r.createElement("div",{className:"row"},0===e.length&&"No Transforms Applied",1===e.length&&"1 Transform Applied",e.length>1&&r.createElement("span",null,"".concat(e.length," Transforms Applied")),r.createElement(T.Button,{icon:"edit",onClick:i},"Edit")),r.createElement(T.Dialog,{isOpen:o,onClose:c},r.createElement(Ge,{deck:t,save:function(e){t.fieldTransforms=e,l(!1)}})))}))},_e=Y.a.ofType(),He=function(e,t){var n=t.handleClick,a=t.modifiers;t.query;return a.matchesPredicate?r.createElement(T.MenuItem,{active:a.active,disabled:a.disabled,key:e,onClick:n,text:e,label:e}):null},Ue={size:"100%",autoFocus:!0,canEscapeKeyClose:!0,canOutsideClickClose:!0,enforceFocus:!0,title:"Card Images"},Ye=function(){var e=Object(pe.a)(ve.a.mark((function e(t,n,a){var r,o,l,i;return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Se(t,n),o=Re(r),e.next=4,xe(o,a);case 4:l=e.sent,i=l.toDataURL("image/png").replace("image/png","image/octet-stream"),Pe(i);case 7:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Je=function(e){var t=N().project,n=r.useState(!1),a=Object(C.a)(n,2),o=a[0],l=a[1],i=r.useState(we),c=Object(C.a)(i,2),s=c[0],u=c[1],d=r.useState(1),m=Object(C.a)(d,2),f=m[0],v=m[1],p=r.useState([]),g=Object(C.a)(p,2),h=g[0],E=g[1];return Object(R.d)((function(){var n=e.config;if(!n)return null;var a=function(){return l(!o)},i=t.datasets.find(n.dataSet||void 0),c=t.designs.find(n.cardDesign||void 0),d=t.designs.find(n.cardBackDesign||void 0),m=function(e){var a=Ce(c,d,i,n.fieldTransforms,e,t);E(a)},p=function(){var e=Ce(c,d,i,n.fieldTransforms,s,t);Le(e,f)};return r.createElement("section",{className:"row editor"},r.createElement("div",{className:"f1 col"},r.createElement("div",{className:"row"},r.createElement(T.H2,null,r.createElement(T.EditableText,{onChange:function(e){n&&(n.name=e)},value:n.name})),r.createElement(T.ButtonGroup,null,r.createElement(T.Button,{icon:"delete",text:"Remove this Card Set",onClick:function(){return t.renders.remove(n.id)}}),r.createElement(T.Button,{icon:"download",text:"Download as Zip",onClick:p}))),r.createElement("div",{className:"row"},r.createElement(T.Label,null,"Card Face Design",We(t.designs,(function(e){n.cardDesign=e.id}),c))),r.createElement("div",{className:"row"},r.createElement(T.Label,null,"Card Back Design",We(t.designs,(function(e){n.cardBackDesign=e.id}),d))),r.createElement("div",{className:"row"},r.createElement(T.Label,null,"Data Set",We(t.datasets,(function(e){n.dataSet=e.id}),i))),r.createElement("div",{className:"row"},r.createElement(T.Label,null,"Transforms",r.createElement(Me,{deck:n}))),r.createElement("div",{className:"row"},r.createElement(T.Label,null,"Card Back Placement",r.createElement(T.HTMLSelect,{value:s,onChange:function(e){return u(e.target.value)}},r.createElement("option",{value:be},"Don't Render Backs"),r.createElement("option",{value:ye},"Only Render The First Back"),r.createElement("option",{value:Ne},"Render Backs after Faces"),r.createElement("option",{value:we},"Collate Card Faces and Backs")))),r.createElement("div",{className:"row"},r.createElement(T.Label,null,"Image Scale",r.createElement(T.NumericInput,{value:f,onValueChange:v,leftIcon:"maximize"}))),r.createElement("div",{className:"row"},r.createElement(T.Button,{onClick:function(){m(s),a()}},"Generate Cards"))),r.createElement(T.Drawer,Object.assign({onClose:a,isOpen:Boolean(o),icon:"info-sign"},Ue),r.createElement("div",{className:T.Classes.DRAWER_BODY},r.createElement("div",{className:T.Classes.DIALOG_BODY},r.createElement("style",{dangerouslySetInnerHTML:{__html:(null===c||void 0===c?void 0:c.styles)||""}}),r.createElement("style",{dangerouslySetInnerHTML:{__html:(null===d||void 0===d?void 0:d.styles)||""}}),r.createElement("style",{dangerouslySetInnerHTML:{__html:Ee}}),r.createElement("div",{className:"card-list row wrap"},h.map((function(e,t){return r.createElement("div",{className:"hover-actions-container",key:t},r.createElement("div",{className:"hover-actions"},r.createElement(T.Button,{icon:"download",onClick:function(){return Ye(e.html,e.css,f)}},"Download")),r.createElement("div",{style:{display:"inline"},dangerouslySetInnerHTML:{__html:e.html}}))}))))),r.createElement("div",{className:T.Classes.DRAWER_FOOTER},r.createElement("div",{className:"row"},r.createElement("div",{className:"col"},r.createElement(T.Label,null,"Card Back Placement",r.createElement(T.HTMLSelect,{value:s,onChange:function(e){u(e.target.value),m(e.target.value)}},r.createElement("option",{value:be},"Don't Render Backs"),r.createElement("option",{value:ye},"Only Render The First Back"),r.createElement("option",{value:Ne},"Render Backs after Faces"),r.createElement("option",{value:we},"Collate Card Faces and Backs")))),r.createElement("div",{className:"col"},r.createElement(T.Label,null,"Image Scale",r.createElement(T.NumericInput,{value:f,onValueChange:v,leftIcon:"maximize"}))),r.createElement("div",{className:"col"},r.createElement(T.Label,null,"\xa0",r.createElement(T.Button,{icon:"download",text:"Download as Zip File",onClick:p,className:"flex"})))))))}))},We=function(e,t,n){var a=Y.a.ofType();return r.createElement(a,{items:e.items,itemRenderer:J,noResults:r.createElement(T.MenuItem,{disabled:!0,text:"None Available"}),onItemSelect:t,activeItem:n},r.createElement(T.Button,{text:(null===n||void 0===n?void 0:n.name)||"Nothing Selected",rightIcon:"double-caret-vertical"}))},ze=function(){var e=N().project,t=function(){e.renders.addNew(!0)};return Object(R.d)((function(){var n=e.renders,a=n.currentItem;return r.createElement("section",{className:"app-section card-designs"},r.createElement(T.H1,null,n.label),r.createElement("div",{className:"col"},r.createElement("div",{className:"row"},r.createElement(T.ControlGroup,{fill:!0},W(e.renders),r.createElement(T.Button,{icon:"add",text:"Add New Card Set",onClick:t}))),r.createElement(Je,{config:a})))}))},Ke=n(202),qe=function(e){var t=e.project,n=function(){t.enableAutosave=!t.enableAutosave};return Object(R.d)((function(){return r.createElement("section",{className:"row editor"},r.createElement("div",{className:"f1 col"},r.createElement("div",{className:"row"},r.createElement(T.ButtonGroup,{large:!0},r.createElement(T.Button,{icon:"saved",text:"Save Project",onClick:function(){return t.saveToLocalStorage()},intent:T.Intent.PRIMARY}),r.createElement(T.Button,{icon:"export",text:"Export Save File",onClick:function(){return t.exportToFile()},intent:T.Intent.PRIMARY}),r.createElement(T.Button,{icon:"import",text:"Import Save File",onClick:function(){return t.importFile()},intent:T.Intent.PRIMARY}))),r.createElement("div",{className:"row"},r.createElement(T.Label,null,"Project Name",r.createElement(T.H2,null,r.createElement(T.EditableText,{onChange:function(e){return t.name=e},value:t.name})))),r.createElement("div",{className:"row"},r.createElement(T.FormGroup,{label:"Autosave Settings",intent:T.Intent.PRIMARY,className:"full-x"},r.createElement(T.Switch,{label:"Enable Autosave",checked:t.enableAutosave,onChange:n}),r.createElement(T.Label,null,"Autosave Period",r.createElement(T.Slider,{value:t.autosavePeriod,min:15,max:360,onChange:function(e){return t.updateAutosavePeriod(e)},intent:T.Intent.PRIMARY,labelStepSize:30}))))))}))},Ve=(n(333),function(){var e=N().project;return Object(R.d)((function(){return r.createElement("section",{className:"app-section project"},r.createElement(T.H1,null,"Project"),r.createElement(Ke.a,null,r.createElement("title",null,(null===e||void 0===e?void 0:e.name)||""," - Deckster CCG")),r.createElement("div",{className:"row"},r.createElement(qe,{project:e})))}))}),$e=n(205),Xe=n.n($e),Ze=function(){return r.createElement("div",{className:"app-section help"},r.createElement("div",{className:"full-xy"},r.createElement(Xe.a,{source:'# Help\r\n\r\n## Project Management\r\nThe Project represents all of the information associated with a game. Within a single project you can have multiple card designs, data sets, and composed decks of cards.\r\n\r\nUnder the project tab, you will find controls to manage the saving and loading of your project.\r\n\r\nYou can manually make backups by clicking the Export to File button, and load a Project file by clicking the Import from File button.\r\n\r\nYou can also set up autosave, which will save your project within the browser automatically, on a fixed interval, allowing you to continue work on the project without fear of accidentally closing the window and losing your progress.\r\n\r\n>Note: There is a limit to how much data can be stored locally. If you find your Project is getting large (especially regarding images), its best to rely on manually saving to file, rather than the local autosave.\r\n\r\n### Keyboard Shortcuts\r\nTo help with project management, several keyboard shortcuts have been made available, which you can use from any part of the application.\r\n\r\n* Save Project Locally: `alt + S`\r\n* Export Project to File: `alt + shift + S`\r\n* Import Project from File: `alt + O`\r\n* Toggle Autosave: `alt + shift + A`\r\n\r\n## Creating a Design\r\n\r\nUnder the Designs tab, you can create card templates. These templates are written as HTML and CSS.\r\n\r\nThe design templates get combined with the data sets (see Importing Data section below) to produce the final result. To mark a section of the template for use by a field in the data set, add a `data-fieldid` attribute to the target element, giving a value of the intended data set field name.\r\n\r\nFor Example:\r\n\r\n```html\r\n<div class="monster-card">\r\n  <h1 data-fieldid="monster_name">MONSTER NAME HERE</h1>\r\n  <div className="stats">\r\n    ...\r\n  </div>\r\n  <footer data-fieldid="flavor_text"></footer>\r\n</div>\r\n```\r\n\r\n## Importing Data\r\n\r\nUnder the Data Sets tab, you can import and edit data sets to populate cards.\r\n\r\nEach data set has a defined set of fields associated with it.\r\n\r\n### Importing from Google Sheets\r\n\r\nBy clicking the Import Data button, you can import a table of data from Google Sheets by providing the Sheet ID, a valid Google API Key, and the sheet/range you wish to import.\r\n\r\nOnce the table of data is imported, you can map each column (by index) to a field in this data set, and populate the data set as a map of fields and values.\r\n\r\n## Including Images\r\n\r\nUnder the Images tab, you can import images into the project.\r\n\r\nYou can bring in images that have been imported to the project to your card designs, by using the format `![imageName]`. When rendering the card, this text will be replaced with an `img` element containing the image with the given name. If you want to give that image element a class attribute, you can use the format `![imageName|classList]`\r\n\r\n## Data Transformations\r\n\r\nThis feature is not yet implemented\r\n\r\n## Rendering Decks of Cards\r\n\r\nUnder the Render Cards tab, you will find tools to produce decks of cards, ready for use.\r\nYou can create multiple configuration, each one able to handle one deck of cards.\r\n\r\n1. Select the designs for the faces and backs of the cards.\r\n2. Select the data set to be used with these designs\r\n3. Map data transforms to each of the fields in the data set\r\n4. Select a layout for card faces and backs\r\n5. Set a scale. By default, the cards will render at 320x445px (5px per mm for a standard playing card). Increasing the scale will generate higher resolution cards.\r\n6. Hit the Generate Cards button\r\n7. You can select individual cards to download, or download the entire deck as a zip file. This is all handled client-side, meaning no large downloads to process.'})))},Qe=(n(415),n(416),n(417),n(418),function(e){var t=e.label,n=e.icon;return r.createElement("div",{className:"col tab-title"},r.createElement("span",{className:"label"},t),r.createElement(T.Icon,{icon:n,iconSize:64,title:t}))}),et={SAVE_PROJECT:"alt+s",EXPORT_PROJECT:"alt+shift+s",IMPORT_PROJECT:"alt+o",TOGGLE_AUTOSAVE:"alt+shift+a"},tt=function(){var e=N().project,t=r.useState(null),n=Object(C.a)(t,2),a=n[0],o=n[1];return r.useEffect((function(){return e.autoSave()})),Object(R.d)((function(){var t=function(e,t){return{SAVE_PROJECT:function(){return e.saveToLocalStorage()},EXPORT_PROJECT:function(){return e.exportToFile()},IMPORT_PROJECT:function(){return e.importFile()},TOGGLE_AUTOSAVE:function(){return t()}}}(e,(function(){var t=e.toggleAutosave();null===a||void 0===a||a.show({intent:T.Intent.PRIMARY,message:t?"Autosave Enabled":"Autosave Disabled"})}));return r.createElement(A.HotKeys,{keyMap:et,handlers:t,className:"full-xy"},r.createElement("div",{className:"app-container bp3-dark"},r.createElement(T.Tabs,{id:"AppToolbarTabs",onChange:function(t){return e.currentSection=t},selectedTabId:e.currentSection,className:"full-xy"},r.createElement(T.Tab,{id:"project",panel:r.createElement(Ve,null)},r.createElement(Qe,{label:"Project",icon:"projects"})),r.createElement(T.Tab,{id:"design",panel:r.createElement(X,null)},r.createElement(Qe,{label:"Card Designs",icon:"page-layout"})),r.createElement(T.Tab,{id:"data",panel:r.createElement(z,null)},r.createElement(Qe,{label:"Data Sets",icon:"th"})),r.createElement(T.Tab,{id:"images",panel:r.createElement(Q,null)},r.createElement(Qe,{label:"Images",icon:"media"})),r.createElement(T.Tab,{id:"transform",panel:r.createElement(me,null)},r.createElement(Qe,{label:"Transforms",icon:"flows"})),r.createElement(T.Tab,{id:"generateConfigs",panel:r.createElement(ze,null)},r.createElement(Qe,{label:"Render Cards",icon:"layers"})),r.createElement(T.Tab,{id:"help",panel:r.createElement(Ze,null)},r.createElement(Qe,{label:"Help",icon:"help"}))),r.createElement(T.Toaster,{ref:function(e){return o(e)},position:"bottom-right"})))}))};var nt=function(){return o.a.createElement(c.b,k,o.a.createElement("div",{className:"app"},o.a.createElement(tt,null)))},at=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function rt(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(nt,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");at?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):rt(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):rt(t,e)}))}}()}},[[294,1,2]]]);
//# sourceMappingURL=main.45a4dcc6.chunk.js.map